# Platform-level defaults
namespace: store-platform

# --- Redis (shared by operator + API for real-time event streaming) ---
redis:
  enabled: true
  image: redis:7-alpine
  port: 6379
  resources:
    requests:
      cpu: "50m"
      memory: "64Mi"
    limits:
      cpu: "200m"
      memory: "128Mi"

# --- Operator ---
operator:
  image: store-operator:latest
  replicas: 1
  domainSuffix: "local.urumi"
  maxStores: 10
  provisionTimeout: 300
  medusaImage: "medusa-store:latest"
  storefrontImage: "store-storefront:latest"
  storageClass: "standard"
  ingressClass: "nginx"
  maxParallelProvisions: 3
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

# --- Intent API ---
api:
  image: intent-api:latest
  replicas: 1
  port: 8080
  domainSuffix: "local.urumi"
  maxStoresPerOwner: 5
  maxStoresGlobal: 10
  rateLimit: "10/minute"
  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "500m"
      memory: "256Mi"

# --- Dashboard ---
dashboard:
  image: store-dashboard:latest
  replicas: 1
  port: 80
  resources:
    requests:
      cpu: "50m"
      memory: "64Mi"
    limits:
      cpu: "200m"
      memory: "128Mi"

# --- Ingress ---
ingress:
  enabled: true
  className: "nginx"
  dashboardHost: "dashboard.local.urumi"
  apiHost: "api.local.urumi"

# --- NetworkPolicy (configurable ingress controller label) ---
networkPolicy:
  ingressControllerLabel: "app.kubernetes.io/name: ingress-nginx"
