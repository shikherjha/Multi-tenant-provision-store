# Per-store Helm chart values (defaults â€” overridden by operator at install time)
storeName: ""

# --- PostgreSQL ---
postgres:
  image: postgres:16-alpine
  user: medusa
  password: medusa-secret
  database: medusa
  storageClass: standard
  storageSize: 1Gi
  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "500m"
      memory: "256Mi"

# --- Medusa Backend ---
medusa:
  image: medusa-store:latest
  replicas: 1
  port: 9000
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

# --- Storefront ---
storefront:
  image: store-storefront:latest
  replicas: 1
  port: 8000
  resources:
    requests:
      cpu: "50m"
      memory: "64Mi"
    limits:
      cpu: "200m"
      memory: "128Mi"

# --- Ingress ---
ingress:
  enabled: true
  className: nginx
  host: ""
  tls: false

# --- Resource Quota (per-store namespace) ---
resourceQuota:
  enabled: true
  pods: "10"
  requestsCpu: "2"
  requestsMemory: "2Gi"
  limitsCpu: "4"
  limitsMemory: "4Gi"
  pvcs: "3"
  storage: "5Gi"

# --- Limit Range (per-container defaults) ---
limitRange:
  enabled: true
  defaultCpu: "250m"
  defaultMemory: "256Mi"
  defaultRequestCpu: "100m"
  defaultRequestMemory: "128Mi"
  maxCpu: "1"
  maxMemory: "1Gi"

# --- Network Policy ---
networkPolicy:
  enabled: true
  # Configurable ingress controller selector
  # For Nginx (Kind/local):
  ingressControllerSelector:
    app.kubernetes.io/name: ingress-nginx
  # For Traefik (k3s/prod), override with:
  #   app.kubernetes.io/name: traefik
